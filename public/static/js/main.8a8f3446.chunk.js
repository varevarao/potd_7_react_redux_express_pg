(window["webpackJsonpreact-app"]=window["webpackJsonpreact-app"]||[]).push([[0],{59:function(e,t,a){},64:function(e){e.exports=JSON.parse('{"text":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}')},71:function(e,t,a){e.exports=a(95)},76:function(e,t,a){},79:function(e,t,a){},83:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),i=(a(76),a(7)),l=a(6),s=a(10),u=a(11),m=a(12),d=a(33),h=a(36),p=a(20),f=a(9),b=a(50),g=a(53),v=a.n(g);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var y=new(function(){function e(){Object(i.a)(this,e),this.domain="http://localhost:3000/api"}return Object(l.a)(e,[{key:"authRequest",value:function(e,t){var a=this;return this.fetch("".concat(this.domain,"/user/").concat(e),{method:"POST",body:JSON.stringify(t)}).then(function(e){return a.setToken(e.token),Promise.resolve(e)}).catch(function(e){return console.error(e),a._handleError(e)})}},{key:"register",value:function(e){var t=e.fName,a=e.lName,n=e.email,r=e.password;return this.authRequest("register",{fName:t,lName:a,email:n,password:r})}},{key:"login",value:function(e,t){return this.authRequest("login",{email:e,password:t})}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return v()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"setToken",value:function(e){localStorage.setItem("id_token",e)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"logout",value:function(){localStorage.removeItem("id_token")}},{key:"getUser",value:function(){return this.loggedIn()?v()(this.getToken()):null}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return this.loggedIn()&&(a.Authorization="Bearer "+this.getToken()),"object"===typeof t.body&&(t.body=JSON.stringify(t.body)),fetch(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({headers:a},t)).then(this._checkStatus).then(function(e){return e.json()})})},{key:"_handleError",value:function(e){if(e.response){var t=e.response,a=t.json();return a?Promise.reject(a.message):Promise.reject(t.statusText)}return Promise.reject(e)}},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}()),O=new(function(){function e(){Object(i.a)(this,e),this.domain="http://localhost:3000/api"}return Object(l.a)(e,[{key:"getUserProfile",value:function(){return this._dataRequest("user/profile",{method:"GET"}).then(function(e){return e.user})}},{key:"getUserRentals",value:function(){return this._dataRequest("rental/current",{method:"GET"}).then(function(e){return e.rentals})}},{key:"getAllProducts",value:function(){return this._dataRequest("product/",{method:"GET"}).then(function(e){return e.products})}},{key:"postNewProduct",value:function(e){var t=e.title,a=e.description,n=e.quantity;return this._dataRequest("product/create",{method:"POST",body:{title:t,desc:a,qty:n}}).then(function(e){return e.product})}},{key:"postNewRental",value:function(e){var t=e.productId,a=e.quantity;return this._dataRequest("rental/create",{method:"POST",body:{productId:t,qty:a}}).then(function(e){return e.rental})}},{key:"clearCartItem",value:function(e){var t=e.id;return this._dataRequest("rental/cart/".concat(t),{method:"POST"}).then(function(e){return e.done})}},{key:"activateRental",value:function(e){var t=e.id;return this._dataRequest("rental/activate/".concat(t),{method:"POST"}).then(function(e){return e.rental})}},{key:"rentalUpdate",value:function(e){var t=e.id,a=e.quantity;return this._dataRequest("rental/update/".concat(t),{method:"POST",body:{qty:a}}).then(function(e){return e.rental})}},{key:"_dataRequest",value:function(e,t){return y.fetch("".concat(this.domain,"/").concat(e),t)}}]),e}()),j=a(66),k=a(121),N=a(122),C=a(123),w=a(124),P=a(125),S=(a(79),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cart,a=e.products.reduce(function(e,t){return e[t.id]=t,e},{});return r.a.createElement(j.a,{className:"checkout-cart"},r.a.createElement(k.a,null,t.map(function(e,t){var n=a[e.productId];return r.a.createElement(N.a,{key:"checkout-list-".concat(t),className:"cart-item"},r.a.createElement(C.a,null,r.a.createElement(w.a,{src:"/logo192.png"})),r.a.createElement(P.a,null,n.title),r.a.createElement(P.a,{secondary:"from ".concat(n.userEmail)}),r.a.createElement("div",{className:"line-end"},r.a.createElement(P.a,null,"x ",e.quantity)))})))}}]),t}(n.Component)),T=(a(83),a(126)),x=a(127),q=a(128),R=a(144),I=a(22),D=a(25),L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleProfileAction",value:function(e){var t=this.props.history;switch(e){case"register":t.push("/register");break;case"login":t.push("/login");break;case"logout":y.logout(),t.replace("/")}}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.cart,c=t.onCreate,o=t.onCheckout;return r.a.createElement(T.a,{className:"header",position:"sticky"},r.a.createElement(x.a,null,r.a.createElement("div",{className:"logo-text"},r.a.createElement("span",{className:"p1"},"Toolo"),r.a.createElement("span",{className:"p2"},"city")),r.a.createElement("div",{className:"header-end"},!!a&&r.a.createElement("span",{className:"user-name"},"".concat(a.firstName," ").concat(a.lastName)),r.a.createElement("div",{className:"user-actions"},!!a&&!!c&&r.a.createElement(q.a,{className:"action new-product",variant:"outlined",onClick:c},r.a.createElement(I.a,{icon:D.d}),r.a.createElement(R.a,{smDown:!0},"New Listing")),!!n&&n.length>0&&!!o&&r.a.createElement(q.a,{className:"action user-checkout",variant:"outlined",onClick:o},r.a.createElement(I.a,{icon:D.a}),r.a.createElement(R.a,{smDown:!0},"Checkout")),!a&&r.a.createElement(q.a,{className:"action user-register",variant:"contained",onClick:function(){return e.handleProfileAction("register")}},r.a.createElement(I.a,{icon:D.h}),r.a.createElement(R.a,{smDown:!0},"sign up")),r.a.createElement(q.a,{className:"action user-".concat(a?"logout":"login"),variant:"text",onClick:function(){return e.handleProfileAction(a?"logout":"login")}},r.a.createElement(I.a,{icon:a?D.f:D.e}),r.a.createElement(R.a,{smDown:!0},a?"sign out":"Login"))))))}}]),t}(n.Component),A=Object(h.g)(L),_=a(131),U=a(129),M=a(96),G=a(130),J=a(142),W=a(64),F=(a(88),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={agreed:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.agreed,a=this.props.onSubmit;return r.a.createElement(j.a,{className:"bill-container"},r.a.createElement(U.a,null,r.a.createElement("p",{className:"bill-label"},"Please read through the following terms, and then submit your request:"),r.a.createElement(M.a,{rows:10,rowsMax:30,readOnly:!0,value:W.text,className:"agreement"})),r.a.createElement(G.a,{name:"agreed",control:r.a.createElement(J.a,{checked:t}),label:"I agree to the terms",className:"agreed",onChange:function(t){e.setState({agreed:t.target.checked})}}),r.a.createElement("div",{className:"bill-actions"},r.a.createElement(q.a,{disabled:!t,variant:"contained",color:"primary",onClick:a},"Confirm")))}}]),t}(n.Component));a(89);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={user:null,products:[],cart:[],loading:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([O.getUserProfile(),O.getAllProducts(),O.getUserRentals()]).then(function(t){var a=Object(b.a)(t,3),n=a[0],r=a[1],c=a[2].reduce(function(e,t){return"CART"===t.status&&e.cart.push(t),e},{cart:[]});e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({user:n,products:r},c))}).catch(function(e){console.log(e)})}},{key:"showLoading",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({loading:e})}},{key:"onSubmit",value:function(){var e=this,t=this.state.cart,a=this.props.history;this.showLoading();var n=[],r=!0,c=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;n.push(O.activateRental({id:s.id}).catch(function(e){return console.error(e),null}))}}catch(u){c=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(c)throw o}}Promise.all(n).then(function(n){var r=n.filter(function(e){return!!e}),c=t.filter(function(e){return!!r.find(function(t){return t.id===e.id})});c.length>0?e.setState({cart:Object(p.a)(c),loading:!1}):a.replace("/dashboard")})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.cart,c=t.products;return r.a.createElement("div",{className:"checkout-container"},r.a.createElement(A,{user:a}),r.a.createElement(_.a,{container:!0,justify:"space-evenly",spacing:5,className:"checkout-content"},r.a.createElement(_.a,{item:!0,xs:10,md:6},r.a.createElement("p",{className:"checkout-title"},"Cart"),r.a.createElement(S,{cart:n,products:c})),r.a.createElement(_.a,{item:!0,xs:10,md:4},r.a.createElement("p",{className:"checkout-title"},"Agreement"),r.a.createElement(F,{onSubmit:function(){return e.onSubmit()}}))))}}]),t}(n.Component),Y=Object(h.g)(Q),z=a(14),H=a(141),K=a(138),V=(a(90),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderChildrenGrid",value:function(e){return r.a.createElement(_.a,{container:!0,className:"children-grid",justify:"center"},r.a.createElement(_.a,{item:!0,container:!0,spacing:4,xs:10},e.map(function(e,t){return r.a.createElement(_.a,{item:!0,xs:10,sm:6,md:4,key:"grid-child-".concat(t),className:"grid-child"},e)})))}},{key:"renderChildrenList",value:function(e){return r.a.createElement(_.a,{container:!0,spacing:4,className:"children-grid",justify:"center"},r.a.createElement(_.a,{item:!0,xs:10},r.a.createElement(j.a,null,r.a.createElement(k.a,{className:"children-list"},e.map(function(e,t){return r.a.createElement(N.a,{key:"list-child-".concat(t),className:"list-child"},e)})))))}},{key:"renderChildren",value:function(e,t){switch(t){case"grid":return this.renderChildrenGrid(e);case"list":default:return this.renderChildrenList(e)}}},{key:"render",value:function(){var e=this.props,t=e.display,a=e.children;return r.a.createElement("div",{className:"category-tab"},this.renderChildren(a,t))}}]),t}(n.Component)),X=a(132),Z=a(133),$=a(134),ee=a(135),te=a(136),ae=a(137),ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.cartQuantity,n=e.type,c=e.onChange,o=t.title,i=t.description,l=t.quantity;return r.a.createElement(X.a,{className:"product-card"},r.a.createElement(Z.a,{className:"product-header"},r.a.createElement($.a,{component:"img",image:"/pt-1.jpg"})),r.a.createElement(ee.a,{className:"product-content"},r.a.createElement("span",null,o),r.a.createElement("span",null,i)),r.a.createElement(te.a,{className:"product-actions"},r.a.createElement("div",null,r.a.createElement(I.a,{icon:D.b}),r.a.createElement(ae.a,{type:"number",value:a}),r.a.createElement("span",null,"/ ",l)),r.a.createElement("div",null,r.a.createElement(q.a,{variant:"outlined",className:"cart-add",disabled:a>=l||"user"===n,onClick:function(){return c(t,a+1)}},r.a.createElement(I.a,{icon:D.d})),r.a.createElement(q.a,{variant:"outlined",className:"cart-remove",disabled:a<=0||"user"===n,onClick:function(){return c(t,a-1)}},r.a.createElement(I.a,{icon:D.c})))))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={activeTab:0},a.tabs=[{label:"Product Catalogue",render:a.renderCategoryTab.bind(Object(z.a)(a),"other")},{label:"Your Listings",render:a.renderCategoryTab.bind(Object(z.a)(a),"user")},{label:"Your Rentals",render:a.renderRentalsTab.bind(Object(z.a)(a))}],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderCategoryTab",value:function(e){var t=this.props,a=t.user,n=t.products,c=t.cart,o=t.onCartChange,i=c.reduce(function(e,t){return e[t.productId]=t,e},{}),l=n.reduce(function(t,n){return"user"===e&&n.userId===a.id&&t.push(n),"other"===e&&n.userId!==a.id&&t.push(n),t},[]);return r.a.createElement(V,{display:"grid"},l.map(function(t,a){var n=t.id,c=(i[n]||{quantity:0}).quantity;return r.a.createElement(ne,{type:e,onChange:o,key:"rental-category-content-".concat(a),product:t,cartQuantity:c})}))}},{key:"renderRentalsTab",value:function(){var e=this.props,t=e.products,a=e.rentals,n=t.filter(function(e){return!!a.find(function(t){return t.productId===e.id})}).reduce(function(e,t){return e[t.id]=t,e},{});return r.a.createElement(V,{display:"list"},a.map(function(e,t){var a=n[e.productId],c=a.title,o=a.userEmail;return r.a.createElement(r.a.Fragment,{key:"rental-tab-content-".concat(t)},r.a.createElement(C.a,null,r.a.createElement(w.a,{src:"/logo192.png"})),r.a.createElement(P.a,null,c),r.a.createElement("div",null,r.a.createElement(P.a,null,"x ",e.quantity)),r.a.createElement(P.a,{className:"line-end",primary:"".concat(o),secondary:new Date(e.createdAt).toLocaleString()}))}))}},{key:"renderUserTab",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.activeTab;return r.a.createElement("div",{className:"catalogue"},r.a.createElement(H.a,{className:"catalogue-tabs",value:t,onChange:function(t,a){return e.setState({activeTab:a})},indicatorColor:"secondary",textColor:"secondary",centered:!0},this.tabs.map(function(e,t){return r.a.createElement(K.a,{key:"catalogue-tab-".concat(t),label:e.label})})),r.a.createElement("div",{className:"catalogue-content"},this.tabs.map(function(e,a){return r.a.createElement("div",{key:"catalogue-content-".concat(a),className:"tab-content ".concat(t===a?"":"hide")},e.render())})))}}]),t}(n.Component),ce=a(65),oe=a(139),ie=a(98),le=a(145),se=a(143),ue=(a(91),{DETAILS:"DETAILS",NEW:"NEW"}),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={title:"",description:"",quantity:0},a.handleInputChange=a.handleInputChange.bind(Object(z.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(z.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"reset",value:function(){this.setState({title:"",description:"",quantity:0})}},{key:"handleInputChange",value:function(e){var t=e.target;this.setState(Object(f.a)({},t.name,t.value))}},{key:"handleSubmit",value:function(){var e=this.props.onSubmit,t=this.state,a=t.title,n=t.description,r=t.quantity;e&&e({title:a,description:n,quantity:r}),this.reset()}},{key:"renderProductForm",value:function(){var e=this.state,t=e.title,a=e.description,n=e.quantity,c=this.props.onClose;return r.a.createElement(_.a,{container:!0,className:"product-form-container",justify:"center"},r.a.createElement(_.a,{item:!0,xs:10,md:6},r.a.createElement(X.a,{className:"modal-card"},r.a.createElement(ee.a,null,r.a.createElement("div",{className:"form-header"},r.a.createElement("span",{className:"form-title"},"New Product Listing"),r.a.createElement("span",{onClick:c},r.a.createElement(I.a,{icon:ce.a}))),r.a.createElement(U.a,{className:"product-form"},r.a.createElement("div",{className:"part-1"},r.a.createElement(oe.a,{className:"product-name"},r.a.createElement(ie.a,null,"Title"),r.a.createElement(le.a,{className:"input-text",type:"text",name:"title",placeholder:"My cool power tool",value:t,onChange:this.handleInputChange})),r.a.createElement(oe.a,{className:"product-qty"},r.a.createElement(ie.a,null,"Quantity"),r.a.createElement(le.a,{type:"number",name:"quantity",placeholder:"all these tools!",value:n,onChange:this.handleInputChange}))),r.a.createElement(oe.a,{className:"part-2"},r.a.createElement(ie.a,null,"Description"),r.a.createElement(M.a,{className:"multiline",rows:5,name:"description",placeholder:"A shot description about the product. This is where you get to state your buyer requirements too.",value:a,onChange:this.handleInputChange})))),r.a.createElement(te.a,{className:"form-actions"},r.a.createElement(q.a,{color:"secondary",variant:"contained",onClick:this.handleSubmit},r.a.createElement("span",null,"Save"))))))}},{key:"renderProductDetails",value:function(){return r.a.createElement("div",{className:"product-details"})}},{key:"renderModalContent",value:function(e){switch(e){case ue.DETAILS:return this.renderProductDetails();case ue.NEW:return this.renderProductForm();default:return null}}},{key:"render",value:function(){var e=this.props,t=e.variant,a=e.open,n=e.onClose;return t?r.a.createElement(se.a,{open:a,onClose:n,className:"product-modal"},this.renderModalContent(t)):null}}]),t}(n.Component);a(92);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={user:null,products:[],rentals:[],cart:[],modal:"",loading:!1},a.onCreateProduct=a.onCreateProduct.bind(Object(z.a)(a)),a.onCheckout=a.onCheckout.bind(Object(z.a)(a)),a.onRentalChange=a.onRentalChange.bind(Object(z.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([O.getUserProfile(),O.getAllProducts(),O.getUserRentals()]).then(function(t){var a=Object(b.a)(t,3),n=a[0],r=a[1],c=a[2].reduce(function(e,t){return"CART"===t.status?e.cart.push(t):e.rentals.push(t),e},{rentals:[],cart:[]});e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({user:n,products:r},c))}).catch(function(e){console.log(e)})}},{key:"showLoading",value:function(e){this.setState({loading:e})}},{key:"onCreateProduct",value:function(e){var t=this,a=e.title,n=e.description,r=e.quantity;this.showLoading(!0),O.postNewProduct({title:a,description:n,quantity:r}).then(function(e){var a=t.state.products,n=a.find(function(t){return t.id===e.id});n?a[a.indexOf(n)]=e:a.push(e),t.setState({products:Object(p.a)(a),modal:"",loading:!1})}).catch(function(e){console.error(e),t.showLoading(!1)})}},{key:"onCheckout",value:function(){this.props.history.push("/checkout")}},{key:"onRentalChange",value:function(e,t){var a=this,n=this.state.cart,r=n.find(function(t){return t.productId===e.id});this.showLoading(!0),r?t>0?O.rentalUpdate({id:r.id,quantity:t}).then(function(t){a.setState({cart:[].concat(Object(p.a)(n.filter(function(t){return t.productId!==e.id})),[t]),loading:!1})}).catch(function(e){console.error(e),a.showLoading(!1)}):O.clearCartItem({id:r.id}).then(function(t){t&&a.setState({cart:Object(p.a)(n.filter(function(t){return t.productId!==e.id})),loading:!1})}).catch(function(e){console.error(e),a.showLoading(!1)}):O.postNewRental({productId:e.id,quantity:t}).then(function(e){a.setState({cart:[].concat(Object(p.a)(a.state.cart),[e]),loading:!1})}).catch(function(e){console.error(e),a.showLoading(!1)})}},{key:"showModal",value:function(e){e in ue&&this.setState({modal:ue[e]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.products,c=t.rentals,o=t.cart,i=t.loading,l=t.modal;return r.a.createElement("div",{className:"dashboard-container"},r.a.createElement(A,{user:a,cart:o,onCreate:function(){return e.showModal(ue.NEW)},onCheckout:this.onCheckout}),r.a.createElement(re,{user:a,cart:o,products:n,rentals:c,onCreate:function(){return e.showModal(ue.NEW)},onCartChange:this.onRentalChange}),r.a.createElement(me,{open:!!l,variant:l,onClose:function(){return e.setState({modal:""})},onSubmit:this.onCreateProduct}),r.a.createElement("div",{className:"".concat(i?"":"hide"," loading-screen")},r.a.createElement("div",null,r.a.createElement(I.a,{icon:D.g,spin:!0,size:"5x"}))))}}]),t}(n.Component),pe=(a(93),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"redirectTo",value:function(e){this.props.history.push("/".concat(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"home-container"},r.a.createElement(A,null),r.a.createElement("div",{className:"hero"},r.a.createElement(_.a,{container:!0,spacing:10},r.a.createElement(_.a,{item:!0,container:!0,xs:12,className:"hero-text"},r.a.createElement(_.a,{item:!0,xs:10},r.a.createElement("span",null,"Yet Another Marketplace")),r.a.createElement(_.a,{item:!0,xs:10},"for ",r.a.createElement("span",null," power tools "))),r.a.createElement(_.a,{item:!0,container:!0,xs:12,className:"hero-actions"},r.a.createElement(_.a,{item:!0,className:"full-width",xs:6,md:2},r.a.createElement(q.a,{className:"sign-up",variant:"contained",onClick:function(){return e.redirectTo("register")}},"Sign Up for free")),r.a.createElement(_.a,{item:!0,xs:6,md:2},r.a.createElement(q.a,{className:"browse",variant:"contained",onClick:function(){return e.redirectTo("dashboard")}},"Browse Catalogue"))))))}}]),t}(n.Component)),fe=Object(h.g)(pe),be=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),ge=a(140),ve=(a(59),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={fName:"",lName:"",email:"",password:"",error:"",returnPath:"/dashboard"},a.performRegistration=a.performRegistration.bind(Object(z.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=y.loggedIn(),t=this.props,a=t.location,n=t.history,r=this.state.returnPath;a&&a.state&&a.state.from&&(r=a.state.from),e?n.replace(r):this.setState({returnPath:r})}},{key:"performRegistration",value:function(){var e=this,t=this.state,a=t.fName,n=t.lName,r=t.email,c=t.password;y.register({fName:a,lName:n,email:r,password:c}).then(function(){var t=e.props,a=t.location;t.history.push(a&&a.state&&a.state.from?a.state.from:"/dashboard")}).catch(function(t){e.setState({error:t})})}},{key:"performRedirect",value:function(e){this.props.history.push("/".concat(e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.fName,c=t.lName,o=t.email,i=t.password;return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"logo-text"},r.a.createElement("span",{className:"p1"},"Toolo"),r.a.createElement("span",{className:"p2"},"city")),r.a.createElement(X.a,{className:"login-card"},r.a.createElement(ee.a,null,a&&r.a.createElement("div",{className:"login-error"},a),r.a.createElement(U.a,null,r.a.createElement(oe.a,null,r.a.createElement(ge.a,null,"First Name"),r.a.createElement(ae.a,{type:"email",className:"login-field",value:n,onChange:function(t){return e.setState({fName:t.target.value})}})),r.a.createElement(oe.a,null,r.a.createElement(ge.a,null,"Last Name"),r.a.createElement(ae.a,{type:"email",className:"login-field",value:c,onChange:function(t){return e.setState({lName:t.target.value})}})),r.a.createElement(oe.a,null,r.a.createElement(ge.a,null,"Email"),r.a.createElement(ae.a,{type:"email",className:"login-field",value:o,onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(oe.a,null,r.a.createElement(ge.a,null,"Password"),r.a.createElement(ae.a,{type:"password",className:"login-field",value:i,onChange:function(t){return e.setState({password:t.target.value})}})))),r.a.createElement(te.a,{className:"login-actions"},r.a.createElement(q.a,{onClick:this.performRegistration},"REGISTER"),r.a.createElement("div",{className:"login-switch"},r.a.createElement("span",null,"Already have an account?"),r.a.createElement(q.a,{onClick:function(){return e.performRedirect("login")}},"Login instead")))))}}]),t}(n.Component)),Ee=Object(h.g)(ve),ye=(a(94),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",error:"",returnPath:"/dashboard"},a.performLogin=a.performLogin.bind(Object(z.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"performLogin",value:function(){var e=this,t=this.state,a=t.email,n=t.password,r=t.returnPath;y.login(a,n).then(function(){e.props.history.push(r)}).catch(function(t){e.setState({error:t})})}},{key:"componentDidMount",value:function(){var e=y.loggedIn(),t=this.props,a=t.location,n=t.history,r=this.state.returnPath;a&&a.state&&a.state.from&&(r=a.state.from),e?n.replace(r):this.setState({returnPath:r})}},{key:"performRedirect",value:function(e){this.props.history.push("/".concat(e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.email,c=t.password;return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"logo-text"},r.a.createElement("span",{className:"p1"},"Toolo"),r.a.createElement("span",{className:"p2"},"city")),r.a.createElement(X.a,{className:"login-card"},r.a.createElement(ee.a,null,!!a&&r.a.createElement("div",{className:"login-error"},"Heola",a),r.a.createElement(U.a,null,r.a.createElement(oe.a,null,r.a.createElement(ge.a,null,"Email"),r.a.createElement(ae.a,{type:"email",value:n,onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(oe.a,null,r.a.createElement(ge.a,null,"Password"),r.a.createElement(ae.a,{type:"password",value:c,onChange:function(t){return e.setState({password:t.target.value})}})))),r.a.createElement(te.a,{className:"login-actions"},r.a.createElement(q.a,{onClick:this.performLogin},"Login"),r.a.createElement("div",{className:"login-switch"},r.a.createElement("span",null,"Don't have an account?"),r.a.createElement(q.a,{onClick:function(){return e.performRedirect("register")}},"Sign Up instead")))))}}]),t}(n.Component)),Oe=Object(h.g)(ye),je=a(2),ke=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=Object(je.a)(e,["component"]),n=y.loggedIn();return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return!0===n?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}}]),t}(n.Component),Ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(d.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/login",component:Oe}),r.a.createElement(h.b,{exact:!0,path:"/register",component:Ee}),r.a.createElement(ke,{exact:!0,path:"/dashboard",component:he}),r.a.createElement(ke,{exact:!0,path:"/checkout",component:Y}),r.a.createElement(h.b,{path:"/",component:fe}),r.a.createElement(h.b,{path:"",component:fe}),r.a.createElement(h.b,{component:be}))))}}]),t}(n.Component);o.a.render(r.a.createElement(Ne,null),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.8a8f3446.chunk.js.map